# 一、需求背景
希望通过自定义 tags.json 配置文件管理标签的别名与层级关系，当检测到某个标签（或其别名）时，自动完成两项核心操作：

1. 将别名标签映射为标准标签
2. 自动向上递归添加所有父级标准标签

# 二、配置文件格式说明
tags.json 采用层级嵌套结构，支持两种配置形式，核心字段说明如下：

| 字段/配置形式 | 作用 | 示例|
|-|-|-|
|`_alias` 数组（仅对象内有效）|配置当前标准标签的别名，检测到别名时自动映射为当前标准标签|"cosplay" 的 _alias: ["cos", "角色扮演"]|
|嵌套对象|定义子级标准标签，形成标签层级关系，子标签命中时自动携带父标签|"cosplay" 下嵌套 "原神" 对象|
|数组值（键为标准标签）|简化版别名配置，键是标准子标签，数组是其别名，命中时映射为该键并携带所有父标签|"芭芭拉·佩奇": ["芭芭拉", "Barbara Pegg"]|


参考配置示例：

```json
{
    "cosplay": {
        // 配置当前标签的别名：检测到"cos"/"角色扮演"时，映射为"cosplay"
        "_alias": ["cos", "角色扮演"],

        // 子标签：原神（带自身别名）
        "原神": {
            // 例：检测到 "Genshin/⚪神" 映射为 "原神"，并自动添加 "cosplay" 标签
            "_alias": ["Genshin", "⚪神"],

            // 孙标签：芭芭拉·佩奇（简化别名配置）
            // 例：检测到 "Barbara“, 映射为"芭芭拉·佩奇", 并自动添加 "原神" 和 "cosplay" 标签
            "芭芭拉·佩奇": ["芭芭拉", "Barbara Pegg", "Barbara"],
            // 孙标签：莫娜（简化别名配置）
            "莫娜": ["Mona"]
        }
    }
}

```


# 三、核心功能预期
给定输入标签，按照配置文件执行以下逻辑：
- 别名映射：优先将输入标签匹配为配置中的「标准标签」（忽略层级，先匹配所有别名）
- 父级补全：找到标准标签在配置中的层级路径，自动补全所有上层父级标准标签
- 去重：最终输出的标签列表自动去重，仅保留标准标签（无别名）
- 支持递归解析多层级标签（不限于示例中的3层，可能存在多层）

# 四、测试用例
| 输入标签             | 预期输出标签                      | 说明                                 |
| ---------------- | --------------------------- | ---------------------------------- |
| "cos"            | ["cosplay"]                 | 匹配 cosplay 的别名，映射后无父级，直接输出         |
| "Genshin"        | ["cosplay", "原神"]           | 匹配原神的别名，自动补全父标签 cosplay            |
| "Barbara"        | ["cosplay", "原神", "芭芭拉・佩奇"] | 匹配芭芭拉·佩奇的别名，补全父标签原神 + 祖父标签 cosplay |
| ["角色扮演", "Mona"] | ["cosplay", "原神", "莫娜"]     | 多标签输入，去重后补全对应父级                    |
| "莫娜"             | ["cosplay", "原神", "莫娜"]     | 直接输入标准子标签，补全所有父级                   |





